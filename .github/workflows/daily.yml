name: Daily Auto Sign

on:
  schedule:
    # 第一次尝试：北京时间 06:35 (提前占位)
    - cron: '35 22 * * *'
    # 第二次尝试：北京时间 06:50 (万一第一次挂了，第二次可能排上队)
    - cron: '50 22 * * *'
  workflow_dispatch:

jobs:
  start:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
      - name: Install dependencies
        run: pip install requests
      - name: Run Script
        env:
          MY_COOKIE: ${{ secrets.MY_COOKIE }}
        # 运行脚本
        run: python sign.py
